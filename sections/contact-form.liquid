<div class="my-8 flex flex-col items-center">
  {% if section.settings.title != blank %}
    <h1 class="my-8 text-3xl font-medium md:my-16">
      {{ section.settings.title }}
    </h1>
  {% endif %}

  {% form 'contact' %}
    {% if form.errors %}
      <div class="border p-5">
        <div class="my-3 flex w-full flex-row items-center">
          <div class="text-red-500">{% render 'icon-failed' %}</div>
          <div class="ml-3 text-sm font-medium">
            Oh no! Your message was not posted
          </div>
        </div>
        <ul class="mb-3 ml-7 list-decimal px-4">
          {% for error in form.errors %}
            <li>
              <span>{{ form.errors.messages[error] }}</span>
            </li>
          {% endfor %}
        </ul>
      </div>
    {% elsif form.posted_successfully? %}
      <div class="border p-5">
        <div class="my-3 flex w-full flex-row items-center">
          <div class="text-red-500">{% render 'icon-success' %}</div>
          <div class="ml-3 text-sm font-medium">
            Your message is sent successfully
          </div>
        </div>
      </div>
    {% endif %}
    <div class="mx-auto max-w-6xl flex-1 items-center justify-center px-4">
      <div class="mb-3 flex px-1">
        <div class="px-3 md:w-1/2">
          <label
            class="text-xs font-medium text-gray-500 uppercase"
            for="contact_name"
            >Name</label
          >
          <input
            class="mb-3 w-full border px-4 py-3 text-gray-700"
            type="text"
            name="contact[name]"
            id="contact_name"
          >
        </div>
        <div class="px-3 md:w-1/2">
          <label
            class="text-xs font-medium text-gray-500 uppercase"
            for="contact_email"
            >Email</label
          >
          <input
            class="mb-3 w-full border px-4 py-3 text-gray-700"
            type="email"
            name="contact[email]"
            id="contact_email"
          >
        </div>
      </div>

      <div class="mb-3 flex px-1">
        <div class="w-full px-3">
          <label
            class="text-xs font-medium text-gray-500 uppercase"
            for="contact_message"
            >Message</label
          >
          <textarea
            class="mb-3 w-full border px-4 py-3 text-gray-700"
            name="contact[body]"
            id="contact_message"
          ></textarea>
        </div>
      </div>

      <div class="mb-3 flex px-1">
        <div class="w-full px-3">
          <input
            class="w-full cursor-pointer border bg-gray-900 px-4 py-2 text-base font-medium text-white hover:bg-gray-700"
            type="submit"
            value="Submit message"
          >
        </div>
      </div>
    </div>
  {% endform %}
</div>

{% schema %}
{
  "name": "Contact Form",
  "presets": [
    {
      "name": "Contact Form"
    }
  ],
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title"
    }
  ]
}
{% endschema %}
